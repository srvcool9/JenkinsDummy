<div class="row m-2 mt-2 card">
    <div class="col-sm-5 mt-2">
        <h4 class="mb-3" style="color: #234280;font-weight: bold;">Reports</h4>
    </div>
    <div class="form">
        <form [formGroup]="reportsForm">
            <div>
                <div class="card">
                    <div class="row mx-1">
                        <input type="text" class="form-control" formControlName="id" hidden />

                        <div class="col-3 responsive-registration">
                            <label class="mt-3 mb-2">Assessment Group </label>
                            <ng-select placeholder="Select Assessment Group" class="mb-4" [clearable]="true"
                                [searchable]="false" [dropdownPosition]="'bottom'" [items]="groups"
                                (change)="selectedGroup($event)"
                                bindLabel="groupName" bindValue="groupId" formControlName="group" name="ok">
                            </ng-select>

                        </div>


                        <div class="col-3 responsive-registration">
                            <label class="mt-3 mb-2">Assessment</label>
                            <ng-select placeholder="Select Assessment Name" class="mb-4" [clearable]="true"
                                [searchable]="false" [dropdownPosition]="'bottom'" [items]="assessments"
                                bindLabel="assessmentName" bindValue="assessmentId" formControlName="assessment" name="ok">
                            </ng-select>

                        </div>


                        <div class="col-3 responsive-registration">
                            <label class="mt-3 mb-2">Report Type</label>
                            <ng-select placeholder="Select Report Type" class="mb-4" [clearable]="true" [searchable]="false"
                                [items]="reportType" bindLabel="name" bindValue="id" [readonly]=false
                                formControlName="reportType" class="role">
                            </ng-select>

                        </div>
                        <div class="col-3 responsive-registration">
                            <button type="button" (click)="generateReport()" class="btn btn-primary mx-3 pull-right mt-5 mb-4"
                           
                            >
                                Generate Report
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>


      <div class="animated fadeIn " *ngIf="reportGeneration">
        <div class="card">
            <div class="responsive-display justify-content-between  mt-3 mx-2 mb-2">
              <div class="col-sm-6 label-color grid-header headingColor">
                <h5 style="font-weight: bold;">{{reportTypeName}}</h5>
              </div>
              
           
            </div>
              
          <div class="card-header">
            <div class="responsive-display justify-content-end"> 
            </div>
          </div>
          <div class="grid-card-body">
            <ag-grid-angular style="width: 100%; height: 78vh;" (firstDataRendered)="onFirstDataRendered($event)" class="ag-theme-alpine" [animateRows]="true"
              [rowData]="reportList" [gridOptions]="gridOptions" [columnDefs]="columnDefs"
              [frameworkComponents]="frameworkComponents" [paginationPageSize]="paginationPageSize" [animateRows]="true"
              [pagination]="true" (gridReady)="onGridReady($event)">
            </ag-grid-angular>
            <div class="col-12 responsive-registration">
                <button type="button" (click)=" export()" class="btn btn-primary mx-3 pull-right mt-2 mb-2">
                    Export Excel
                </button>
          </div>
        </div>
      </div>





</div>